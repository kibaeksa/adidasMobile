 <!DOCTYPE html>
 <html>

 <head>
 	<meta charset="UTF-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no" />
 	<meta name="format-detection" content="telephone=no">
 	<meta http-equiv="x-rim-auto-match" content="none">

 	<link href="/css/adidas/style.css" type="text/css" rel="stylesheet" />
 	<link href="/css/adidas/fonts.css" type="text/css" rel="stylesheet" />

 	<script type="text/javascript" src="/designjs/common/jquery-1.12.0.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/swipe.js"></script>
 	<script type="text/javascript" src="/designjs/common/owl.carousel.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/modalPopup.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/zoomImage.js"></script>

 	<title>아디다스 모바일</title>

 	<style>
 		#container {
 			padding-top: 60px !important;
 		}
 	</style>
 </head>

 <body>
 	<div id="wrap">
 		<header include-html="/html/adidas/inc/header_.html"></header>

		<div id="container">
            <link rel="stylesheet" href="/css/adidas/runbase.css">
            <div class="runbase">

                <div class="header_adisports">
					<a href="#">adiclub sports</a>
                    <h2>
                        <span class="adipro-bk">PROGRAM</span>
                        <span class="adipro-bk">RESERVATION</span>
                        <span>프로그램 예약하기</span>
                    </h2>

                    <div class="menu">
                        <a href="javascript:void(0)" class="adipro-b">adiclub SPORTS MENU</a>
                    </div>
                </div>

				<div class="runbase_calendar">
					<div class="reserve_infobox">
						<dl class="noti">
							<dt>예약 내역</dt>
							<!-- 170623 문구수정 -->
							<dd>예약 기능은 아디클럽 및 스포츠 서비스 신청 후에 사용 가능합니다.</dd>
							<!-- 170623 문구수정 end-->
						</dl>
						<div class="button_area col2 no_pdg">
							<div class="blue"><a href="#" class="icons aft" data-icon="">아디클럽 로그인</a></div>
							<div><a href="#" class="icons aft" data-icon="">아디클럽 스포츠 서비스 신청하기</a></div>
						</div>
					</div>


					<div class="date_selector">
						<a href="javascript:void(0)" class="prev_mon" id="prev_cal">
							<span class="slide-arrow-prev"></span>
						</a>
						<a href="javascript:void(0)" class="next_mon" id="next_cal">
							<span class="slide-arrow-next"></span>
						</a>

						<div id="date_info" class="date">2017 .05</div>
					</div>
					<div id="calendar-container" class="calendar"></div>
				</div>

                <div id="section2" class="section">
					<div class="select_wrapper">
						<div class="sel_boxtype sel_design">
			                <a href="#" class="icons" data-icon=""><span>전체 프로그램</span></a>
			                <select>
								<option value="1" selected="">전체 프로그램</option>
								<!-- run2019 -->
			                    <!-- <option value="2">런베이스 프로그램</option> -->
			                    <option value="5">AR 프로그램</option>
			                    <option value="3">트레이닝</option>
			                    <option value="3">MMCA 무브</option>
			                </select>
			            </div>
					</div>
					<ul class="runbase_reservation_list">
						<li>
							<div class="date">
								<div class="num adihs">7</div>
								<div class="adihs">SUN</div>
							</div>
							<div class="cont">
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status online">ONLINE</div>CYTYNIGHT RUN IN JAMSIL WOMEN’S 러닝 크리에이터
								</div>
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status online">ONLINE</div>밸런스 트레이닝 시즌 2 한강에서 펼쳐지는 상쾌한 트레이닝 미션
								</div>
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status offline">offline</div>WOMEN’S 러닝 크리에이터
								</div>
							</div>
						</li>
						<li>
							<div class="date">
								<div class="num adihs">8</div>
								<div class="adihs">MON</div>
							</div>
							<div class="cont">
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status close">close</div>CYTYNIGHT RUN IN JAMSIL 서울 러닝 크리에이터
								</div>
							</div>
						</li>
						<li>
							<div class="date">
								<div class="num adihs">9</div>
								<div class="adihs">TUE</div>
							</div>
							<div class="cont">
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status offline">offline</div>bamance training 2
								</div>
							</div>
						</li>
						<li>
							<div class="date">
								<div class="num adihs">10</div>
								<div class="adihs">WED</div>
							</div>
							<div class="cont">
								<div class="event_box icons" data-icon="">
									<a href="#"></a>
									<div class="status online">online</div>CYTYNIGHT RUN IN JAMSIL WOMEN’S 러닝 크리에이터
								</div>
							</div>
						</li>
					</ul>
                </div>
				<!-- section2 END -->

            </div>

			<script type="text/javascript">
				function Calendar(options){
					var todayDate = new Date();
					var year = new Date().getFullYear();
					var month = new Date().getMonth()+1;
					var dateObj = [];
					var dateForCalObj = [];
					var selectedObj = options.selectedObj || {};

					var monthArray = [
						'Jan',
						'Feb',
						'Mar',
						'Apr',
						'May',
						'Jun',
						'Jul',
						'Aug',
						'Sep',
						'Oct',
						'Nov',
						'Dec'
					];
					var daysArray = [
		                'Mon',
		                'Tue',
		                'Wed',
		                'Thu',
		                'Fri',
		                'Sat',
		                'Sun'
		            ];

					function initDate(_year,_month){
						if(year == _year && month == _month){
							return;
						}

						if(_year != undefined){
							year = _year;
						}

						if(_month != undefined){
							month = _month;
						}
						dateObj = getDaysInMonth(year , month);
						dateForCalObj = getDaysInMonthForCalendar(dateObj);
						updateDateData();
						renderCalendar();
					}

					function updateDateData(){
						var i = 0;
						for(;i < dateObj.length; i++){
							if(
								(selectedObj.year == dateObj[i].year) &&
								(selectedObj.month == dateObj[i].month) &&
								(selectedObj.day == dateObj[i].day)
							){
								dateObj[i].selected = true;
							}else{
								dateObj[i].selected = false;
							}
						}

						i = 0;

						for(;i < dateForCalObj.length; i++){

							if(
								(selectedObj.year == dateForCalObj[i].year) &&
								(selectedObj.month == dateForCalObj[i].month) &&
								(selectedObj.day == dateForCalObj[i].day)
							){
								dateForCalObj[i].selected = true;
							}else{
								dateForCalObj[i].selected = false;
							}
						}
					}

					/* getDaysInMonth Func */
					function getDaysInMonth(year , month){
						var date = new Date(year , month-1 ,1);
						var days = [];
						var i = 0;
						while(date.getMonth()+1 === month){
							days.push(handleDaysData(new Date(date)));
							date.setDate(date.getDate()+1);
						}

						return days;
					}

					function getDaysInMonthForCalendar(daysData){
						var lastMonDaysData;
						var nextMonDaysData;
						var newDateArray = [];

						if(daysData[0].month == 1){
							lastMonDaysData = getDaysInMonth(daysData[0].year-1 , 12);
							nextMonDaysData = getDaysInMonth(daysData[0].year , daysData[0].month*1+1);
						}else if(daysData[0].month == 12){
							lastMonDaysData = getDaysInMonth(daysData[0].year , daysData[0].month*1-1);
							nextMonDaysData = getDaysInMonth(daysData[0].year+1 , 1);
						}else{
							lastMonDaysData = getDaysInMonth(daysData[0].year , daysData[0].month*1-1);
							nextMonDaysData = getDaysInMonth(daysData[0].year , daysData[0].month*1+1);
						}

						var dayOfLastMonLength = daysArray.indexOf(daysData[0].dayOfWeek);
						var dayOfNextMonLength = (daysArray.length-1) - daysArray.indexOf(daysData[daysData.length-1].dayOfWeek);


						for(var indexLastMon = lastMonDaysData.length - dayOfLastMonLength; indexLastMon < lastMonDaysData.length; indexLastMon++){
							lastMonDaysData[indexLastMon].notThisMon = true;
							newDateArray.push(lastMonDaysData[indexLastMon]);
						}

						newDateArray = newDateArray.concat(daysData);

						for(var indexNextMon = 0; indexNextMon < dayOfNextMonLength; indexNextMon++){
							nextMonDaysData[indexNextMon].notThisMon = true;
							newDateArray.push(nextMonDaysData[indexNextMon]);
						}

						return newDateArray;
					}

					function handleDaysData(daysData){
						var i = 0;
						var j = 0;
						var newObj = {};
						var count = 0;
						var dateArray = daysData.toString().split(' ');
						var dayIndex = daysData.getDay() - 1 < 0? 6 : daysData.getDay()-1;

						newObj.year = daysData.getFullYear();
						newObj.month = daysData.getMonth()+1;
						newObj.day = daysData.getDate();
						newObj.dayOfWeek = daysArray[dayIndex];

						return newObj;
					}

					function renderCalendar(){
						render(dateForCalObj);

						if(options.callback && typeof options.callback == 'function'){
							options.callback.call(window,{
								year : year,
								month : month,
								data : dateObj
							});
						}
					}

					function render(data){
						var i = 0;
						var htmlString = '<div class="weekday"><div class="adipro">MON</div><div class="adipro">TUE</div><div class="adipro">WED</div><div class="adipro">THU</div><div class="adipro">FRI</div><div class="adipro">SAT</div><div class="adipro">SUN</div></div><div class="day_cols">';

						for(; i < data.length; i++){
							var attrClass = ' class="';
							if(
								todayDate.getFullYear() == data[i].year &&
								todayDate.getMonth()+1 == data[i].month &&
								todayDate.getDate() == data[i].day)
							{
								attrClass += ' today';
							}

							if(data[i].notThisMon){
								attrClass += ' not_this_month';
							}

							if(data[i].selected){
								attrClass += ' selected';
							}

							attrClass += '"';
							htmlString += '<div'+attrClass+' data-year="'+data[i].year+'" data-month="'+data[i].month+'" data-day="'+data[i].day+'" data-dayofweek="'+data[i].dayOfWeek+'"><span class="adihs-din-b">'+data[i].day+'</span></div>';
							if(i-1 < data.length && (i+1) % 7 == 0 && i > 1){
								htmlString += '</div>';
								htmlString += '<div class="day_cols">';
							}else if(i-1 == data.length){
								htmlString += '</div>';
							}
						}

						document.querySelector('#'+options.targetId).innerHTML = htmlString;

						$('#'+options.targetId+'>div>div').bind('click',function(event){

							if($(this).hasClass('selected')){
								return;
							}

							$(this).addClass('selected');

							var itemY = $(this).attr('data-year');
							var itemM = $(this).attr('data-month');
							var itemD = $(this).attr('data-day');
							var itemDW = $(this).attr('data-dayofweek');

							selectedObj = {
								year : itemY,
								month : itemM,
								day : itemD,
								dayOfWeek : itemDW
							};

							if(options.handleClick && typeof options.handleClick == 'function'){
								options.handleClick(event , {
									year : itemY,
									month : itemM < 10 ? '0'+itemM : itemM,
									day : itemD < 10 ? '0'+itemD : itemD,
									dayOfWeek : itemDW,
									fullDate : itemY+''+(itemM < 10 ? '0'+itemM : itemM)+''+(itemD < 10 ? '0'+itemD : itemD)
								});
							}


							updateDateData();
							render(dateForCalObj);
						});
					}

					initDate();

					return {
						next : function(){
							var y = year;
							var m = month;

							if(m == 12){
								m = 1;
								y += 1;
							}else{
								m += 1;
							}

							initDate(y,m);
						},
						prev : function(){
							var y = year;
							var m = month;

							if(m == 1){
								m = 12;
								y -= 1;
							}else{
								m -= 1;
							}

							initDate(y,m);
						},
						getYear : function(){
							return year;
						},
						getMonth : function(){
							return month;
						}
					}
				}

				var calendar = new Calendar({
					targetId : 'calendar-container',
					selectedObj : {
						year : new Date().getFullYear(),
						month : new Date().getMonth()+1,
						day : new Date().getDate()
					},
					callback : function(obj){
						document.querySelector('#date_info').innerHTML = obj.year+' .'+(obj.month >= 10 ? obj.month : '0'+obj.month);
					},
					handleClick : function(event , data){
						console.log(data);
					}
				});

				document.querySelector('#next_cal').addEventListener('click',function(event){
					calendar.next();
				});

				document.querySelector('#prev_cal').addEventListener('click',function(event){
					calendar.prev();
				});

				(function(){
					function initRunbaseMenu(){
						document.querySelector('.adisports_gnb').className += ' open';
					}

					function removeRunbaseMenu(){
						document.querySelector('.adisports_gnb').className = 'adisports_gnb';
					}

					document.querySelector('.runbase .header_adisports .menu>a').addEventListener('click',function(){
						initRunbaseMenu();

						document.querySelector('.adisports_gnb .close_x_btn').addEventListener('click',removeRunbaseMenu);
						document.querySelector('.adisports_gnb .overlay').addEventListener('click',removeRunbaseMenu);
					});
				})();

				$('.runbase .event_box>a').bind('touchstart',function(){
					$(this).parent().addClass('active');
				});

				$('.runbase .event_box>a').bind('touchend',function(){
					$(this).parent().removeClass('active');
				});

				$(document).ready(function(){
					$('.adisports_gnb li').bind('touchstart',function(){
						$(this).addClass('hover');
					});

					$('.adisports_gnb li').bind('touchend',function(){
						$(this).removeClass('hover');
					});
				});

			</script>

			<div class="go_top">
				<a href="#">BACK TO TOP</a>
			</div>

		</div>
		<!-- //container //main -->

		<footer include-html="/html/adidas/inc/footer_.html"></footer>
	</div>
	
	<script type="text/javascript" src="/designjs/adidas/common.js"></script>
	<script type="text/javascript" src="/designjs/common/includeHTML.js"></script>

	<div class="adisports_gnb">
		<div class="overlay"></div>
		<div class="gnb_menu">
			<a href="javascript:void(0)" class="close_x_btn white"></a>
			<ul>
				<li>
					<a href="#">
						<p class="tit"><span class="adipro-bk">adiclub SPORTS</span> 바로가기</p>
						<span class="icons" data-icon=""></span>
					</a>
				</li>
				<!-- run2019 -->
				<!-- <li>
					<a href="#">
						<p class="tit"><span class="adipro-bk">RUNBASE </span> 바로가기</p>
						<span class="icons" data-icon=""></span>
					</a>
				</li> -->
				<li>
					<a href="#">
						<p class="tit"><span class="adipro-bk">AR </span> 바로가기</p>
						<span class="icons" data-icon=""></span>
					</a>
				</li>
				<li>
					<a href="#">
						<p class="tit"><span class="adipro-bk">MMCA X </span> 아디다스</p>
						<span class="icons" data-icon=""></span>
					</a>
				</li>
			</ul>
		</div>
	</div>
</body>

</html>
