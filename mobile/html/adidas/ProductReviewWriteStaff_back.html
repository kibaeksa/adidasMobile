 <!DOCTYPE html>
 <html>

 <head>
 	<meta charset="UTF-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no" />
 	<meta name="format-detection" content="telephone=no">
 	<meta http-equiv="x-rim-auto-match" content="none">

 	<link href="/css/adidas/style.css" type="text/css" rel="stylesheet" />
 	<link href="/css/adidas/fonts.css" type="text/css" rel="stylesheet" />

 	<script type="text/javascript" src="/designjs/common/jquery-1.12.0.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/swipe.js"></script>
 	<script type="text/javascript" src="/designjs/common/owl.carousel.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/modalPopup.min.js"></script>
 	<script type="text/javascript" src="/designjs/common/zoomImage.js"></script>

 	<title>아디다스 모바일</title>

 	<style>
 		#container {
 			padding-top: 60px !important;
 		}
 	</style>
 </head>

 <body>
 	<div id="wrap">
 		<header include-html="/html/adidas/inc/header_.html"></header>

		<div id="container">

			<div class="review_write review_write_update">
				<h2>스탭리뷰 쓰기</h2>
				<h3>수퍼스타 파운데이션</h3>

				<div class="step_spec">
					<div class="box col2">
                        <p class="tit">매장 선택*</p>
                        <div>
                            <div class="sel_boxtype sel_design">
                                <a href="#" class="toggle_arw"><span style="color:#b5b5b5;">브랜드 선택</span></a>
                                <select name="select_size" id="select_size">
                                    <option value="">240</option>
                                    <option value="">250</option>
                                    <option value="">260</option>
                                    <option value="">270</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <div class="sel_boxtype sel_design">
                                <a href="#" class="toggle_arw"><span style="color:#b5b5b5;">매장 선택</span></a>
                                <select name="select_size" id="select_size">
                                    <option value="">240</option>
                                    <option value="">250</option>
                                    <option value="">260</option>
                                    <option value="">270</option>
                                </select>
                            </div>
                        </div>
					</div>
                    <div class="chk_box1 blue" style="padding:0; margin:0 15px;">
                        <input type="checkbox" name="memoryID" id="save_store">
                        <label for="save_store">매장 저장</label>
                    </div>

					<div class="box col2" style="margin-top:25px;">
						<p class="tit">스탭 신체 사이즈*</p>
						<div>
							<input type="tel" placeholder="키">
							<span class="unit">cm</span>
						</div>
						<div>
							<input type="tel" placeholder="체중">
							<span class="unit">kg</span>
						</div>
					</div>
					<!-- 나이 착장사이즈 -->
					<div class="box col2">
						<div>
							<input type="tel" placeholder="나이">
							<span class="unit">세</span>
						</div>
						<div>
							<div class="sel_boxtype sel_design">
								<a href="#" class="toggle_arw"><span style="color:#b5b5b5;">착장 사이즈</span></a>
								<select name="select_size" id="select_size">
									<option value="">240</option>
									<option value="">250</option>
									<option value="">260</option>
									<option value="">270</option>
								</select>
							</div>
						</div>
					</div>
					<!-- 스탭성별 -->

					<div class="box" style="margin-top:25px;">
						<p class="tit">스탭 성별*</p>
						<!-- <div class="eval"> -->
							<div class="check_point">
								<div class="rdo_box1">
									<input type="radio" id="staff_gender1" name="staff_gender" value="">
									<label for="staff_gender1" class="adipro-r">남성</label>
								</div>
								<div class="rdo_box1">
									<input type="radio" id="staff_gender2" name="staff_gender" value="">
									<label for="staff_gender2" class="adipro-r">여성</label>
								</div>

							</div>
						<!-- </div> -->
					</div>
					<!-- 사이즈팁 -->
					<div class="box" style="margin-top:25px;">
						<p class="tit">사이즈 팁*</p>
						<div class="eval">
							<div class="check_point">
								<div class="cbox">
									<p class="chk">
										<input type="radio" name="checkbox" id="size_id1">
										<label for="size_id1" title="매우 작다"></label>
									</p>
									<p class="label">매우 작아요</p>
								</div>
								<div class="cbox">
									<p class="chk">
										<input type="radio" name="checkbox" id="size_id2">
										<label for="size_id2" title="작다"></label>
									</p>
									<p class="label">작아요</p>
								</div>
								<div class="cbox">
									<p class="chk">
										<input type="radio" name="checkbox" id="size_id3" checked="checked">
										<label for="size_id3" title="적당함"></label>
									</p>
									<p class="label">적당해요</p>
								</div>
								<div class="cbox">
									<p class="chk">
										<input type="radio" name="checkbox" id="size_id4">
										<label for="size_id4" title="크다"></label>
									</p>
									<p class="label">커요</p>
								</div>
								<div class="cbox">
									<p class="chk">
										<input type="radio" name="checkbox" id="size_id5">
										<label for="size_id5" title="매우 크다"></label>
									</p>
									<p class="label">매우 커요</p>
								</div>
							</div>
							<!-- //check_point -->


						</div>
					</div>

				</div>

				<div class="review_form" style="border-top-width: 0;">
					<h3 class="tit">사이즈 설명*</h3>
					<table class="form_table">
						<tr class="no_line">
							<td>
								<textarea name="" id="textbox" class="focused" cols="30" rows="10" placeholder="예 : 사이즈에 관한 설명을 적어주세요."></textarea>
                                <div class="contents_desc">
                                    <p class="field_helper active">100자 이내로 작성해주세요</p>
    								<p class="field_counter" style=" ">187자 입력가능</p>
                                </div>
							</td>
						</tr>
					</table>
				</div>

				<dl class="noti_staffreview">
					<dt>스토어 리뷰 작성 시 유의사항</dt>
					<dd>
						<ul class="li_dot">
							<li>사진은 반드시 1장 이상 등록해주세요. (5장이하)</li>
							<li>사진에 대한 설명, 또는 제품 설명은 500자 이하로 작성해주세요.</li>
							<li>이메일, 전화번호 등의 개인정보는 어떠한 경우에도 남기지 마세요.</li>
						</ul>
					</dd>
				</dl>
				<!-- 리뷰추가 -->
				<div id="commentbox_wrapper" class="review_form">
                    <div class="box">
                        <table class="form_table">
    						<colgroup>
    							<col width="18%" />
    							<col width="*" />
    							<col width="28%" />
    						</colgroup>
    						<tr class="no_line">
    							<td>리뷰 1*</td>
    							<td>
    								<div class="photo_uplpad_container clearfix">
    									<!-- <a href="javascript:void(0)" class="upload_btn"></a> -->
    									<div class="photo_box">
    										<a href="javascript:void(0)" class="close_x_btn white"></a>
    										<img src="http://image.adidas.co.kr/upload/prod/basic/170/BB8824-1_170X170.jpg" alt=""/>
    									</div>
    								</div>
    							</td>
    							<td style="text-align:right;"></td>
    						</tr>

    						<tr class="no_line">
    							<td colspan="3">
    								<textarea name="PRODREW_CONTENT1" id="textbox1" cols="30" rows="10" placeholder="예 : 제품에 관한 설명을 적어주세요." data-text-length="100"></textarea>
                                    <div class="contents_desc">
                                        <p class="field_helper active">100자 이내로 작성해주세요</p>
        								<p class="field_counter"></p>
                                    </div>
    							</td>
    						</tr>
    					</table>
                    </div>

				</div>
				<div class="button_area" style="padding: 15px 0;">
					<div class="l_gray">
                        <a href="javascript:void(0)" id="add_commentbox"><span class="plus icons aft" data-icon="">사진 및 설명 추가</span></a>
                    </div>
				</div>



				<!-- //review_form -->
			</div>

			<div class="button_area button_area_update no_pdg" style="padding-top:15px;border-top:1px solid #d7d7d7;">
				<div class="blue" style="margin-bottom:5px;padding:0 15px;"><a href="#">스탭 리뷰 등록</a></div>
				<div class="l_gray" style="padding:0 15px;"><a href="#">취소</a></div>
			</div>

			<div class="go_top">
				<a href="#">BACK TO TOP</a>
			</div>
		</div>
		<!-- //container product_view -->

		<footer include-html="/html/adidas/inc/footer_.html"></footer>
	</div>
	
	<script type="text/javascript" src="/designjs/adidas/common.js"></script>
	<script type="text/javascript" src="/designjs/common/includeHTML.js"></script>
	<script type="text/javascript">
		(function($){

            $('#add_commentbox').bind('click',function(){

                if($(this).hasClass('disabled')){
                    return;
                }

                var elemContainer = $('#commentbox_wrapper');
                var currentLength = elemContainer.find('.box').length;
                var index = currentLength;

                var htmlString = '<div class="box" id="review_formbox'+(index+1)+'">';
                htmlString += '    <table class="form_table">';
                htmlString += '        <colgroup>';
                htmlString += '        <col width="18%" />';
                htmlString += '        <col width="28%" />';
                htmlString += '        </colgroup>';
                htmlString += '        <tr class="no_line">'
                htmlString += '        <td>리뷰 '+(index+1)+'*</td>';
                htmlString += '        <td>';
                htmlString += '            <div class="photo_uplpad_container clearfix"><a href="javascript:void(0)" class="upload_btn"></a></div>';
                htmlString += '        </td>';
                htmlString += '        <td style="text-align:right;">';
                htmlString += '            <a href="javascript:void(0)" class="remove_review icons aft" data-icon="" data-box-index="'+index+'">삭제하기</a>';
                htmlString += '        </td>';
                htmlString += '        </tr>';
                htmlString += '        <tr class="no_line">';
                htmlString += '        <td colspan="3">';
                htmlString += '        <textarea name="PRODREW_CONTENT'+(index+1)+'" id="textbox'+(index+1)+'" cols="30" rows="10" placeholder="예 : 제품에 관한 설명을 적어주세요."></textarea>';
                htmlString += '        <div class="contents_desc">';
                htmlString += '        <p class="field_helper active">50자 이내로 작성해주세요</p>';
                htmlString += '        <p class="field_counter"></p>';
                htmlString += '        </div>';
                htmlString += '        </td>';
                htmlString += '        </tr>';
                htmlString += '        </table';
                htmlString += '</div>';


                elemContainer.append(htmlString);

                $('#review_formbox'+(index+1)).find('.remove_review').bind('click',removeReview);
                initTextarea();

                if(currentLength >= 4){
                    $(this).addClass('disabled');
                }

            });


            function initTextarea(){
                $('.review_write textarea').each(function(){
                    // console.dir($(this));
                    if($(this)[0].isInit){
                        return;
                    }

                    var obj = $(this);
                    var defaultValue = $(this).val();
                    var elemFieldCounter = $(this).siblings('.contents_desc').find('.field_counter');
                    var elemFieldHelper = $(this).siblings('.contents_desc').find('.field_helper');
                    var totalCharacters = !!obj.attr('data-text-length') ? obj.attr('data-text-length') : 50;
                    var defaultCounterText = '최대 '+totalCharacters+'자 까지 등록 가능합니다.';

                    $(this)[0].isInit = true;

                    obj.bind('focus',function(e){
                        var thisVal = $(this).val().replace(/\n{3,}/g,'\n\n');
                        elemFieldCounter.css({color : '#333'}).text((totalCharacters - thisVal.length)+'자 입력가능');
                        $(this).addClass('focused_line');

                        elemFieldHelper.removeClass('active');
                        elemFieldCounter.addClass('active');
                    });

        			obj.bind('blur',function(e){
                        if('' == $(this).val()){
                            $(this).val(defaultValue);
                        }
                        $(this).removeClass('focused_line');
                        elemFieldCounter.removeClass('active');
                        elemFieldHelper.addClass('active');
                    });

                    obj.bind('keyup',function(e){
                        var thisVal = $(this).val().replace(/\n{3,}/g,'\n\n');
                        if(thisVal.length == 0){
                            elemFieldCounter.css({color : '#333'}).text(defaultCounterText);
                        }else{
                            if(totalCharacters - thisVal.length <= 0){
                                elemFieldCounter.css({color : '#72a963'}).text('최대 글자수 초과');
                            }else{
                                elemFieldCounter.css({color : '#333'}).text((totalCharacters - thisVal.length)+'자 입력가능');
                            }
                        }
                    });
                });
            }

            function removeReview(){
                var index = $(this).attr('data-box-index')*1;
                var length;
                var i = 0;
                $('#review_formbox'+(index+1)).remove();
                $('#add_commentbox').removeClass('disabled');

                length = $('#commentbox_wrapper').find('.box').length;

                for(; i < length; i++){
                    $('#commentbox_wrapper').find('.box').eq(i).attr('id','review_formbox'+(i+1));
                    $('#commentbox_wrapper').find('.box').eq(i).find('.remove_review').attr('data-box-index',i);
                    $('#commentbox_wrapper').find('.box').eq(i).find('tr>td:first').text('리뷰 '+(i+1)+'*');
                    $('#commentbox_wrapper').find('.box').eq(i).find('textarea').attr('name','PRODREW_CONTENT'+(i+1));
                    $('#commentbox_wrapper').find('.box').eq(i).find('textarea').attr('id','textbox'+(i+1));
                }
            }

            initTextarea();


		})(jQuery);

	</script>

</body>

</html>
